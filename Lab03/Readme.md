# Lab 03

## Title: MIDI Note Processing and Algorithmic Music Generation

---

## Objectives

- Print MIDI channels, notes, and their corresponding frequencies.  
- Generate simple beat, harmony, and melody patterns using MIDI notes.  
- Play individual MIDI tracks (.mid files).  
- Convert MIDI tracks into standard audio (.wav) files using Python tools.

---
 
## Background Theory

### 1. MIDI (Musical Instrument Digital Interface)

MIDI (Musical Instrument Digital Interface) is a standardized digital protocol developed to enable communication between electronic musical instruments, computers, and other digital music devices. Unlike audio files, MIDI does not store actual sound waves. Instead, it stores performance instructions that describe how music should be played.

A MIDI file contains a sequence of messages that control musical parameters such as pitch, duration, loudness, and instrument selection. Because MIDI files store instructions rather than audio, they are compact in size and can be easily edited or generated programmatically.

---

### 2. MIDI Messages

MIDI communication is based on messages, each representing a specific musical event. The most commonly used MIDI messages include:

- **Note On**  
  Indicates that a note has been pressed. It contains the note number, velocity, and channel information.

- **Note Off**  
  Indicates that a note has been released.

- **Velocity**  
  Represents the force with which a note is played. Higher velocity values produce louder sounds.

- **MIDI Channel**  
  MIDI supports 16 channels, allowing multiple instruments to be controlled independently within a single MIDI file.

---

### 3. MIDI Note Numbers and Pitch Representation

MIDI represents musical pitch using note numbers ranging from 0 to 127. Each number corresponds to a specific musical note across multiple octaves. For example:

- MIDI note 60 → Middle C  
- MIDI note 69 → A4 (Standard tuning note)

This numerical representation allows precise and consistent mapping between musical notes and digital data, making MIDI suitable for algorithmic music generation.

---

### 4. Frequency Conversion of MIDI Notes

Although MIDI uses discrete note numbers, sound synthesis requires continuous frequencies. The frequency corresponding to a MIDI note number `n` is calculated using the following equation:

f = 440 × 2^((n - 69) / 12)


Here, 440 Hz represents the frequency of the reference note A4. This logarithmic relationship reflects the equal-tempered tuning system used in Western music, where each octave is divided into 12 equal semitones.

---

### 5. Time, Beat, and Tempo in MIDI

Time in MIDI is measured using ticks, which are relative units based on the file’s tempo and time division. The **beat** forms the basic rhythmic unit and determines the pacing of musical events.

Tempo is typically measured in **beats per minute (BPM)** and controls how fast or slow the music is played. By adjusting timing values, rhythmic patterns such as steady beats or complex rhythms can be generated programmatically.

---

### 6. Melody, Harmony, and Rhythm

- **Melody**  
  A melody is a linear sequence of notes played one after another. In MIDI-based music creation, melodies are generated by arranging note numbers and durations in a structured pattern.

- **Harmony**  
  Harmony occurs when multiple notes are played simultaneously. In this experiment, harmony is created using simple triads, which consist of three notes played together to form chords.

- **Rhythm (Beat)**  
  Rhythm defines the timing and spacing of notes. Beat patterns can be created by repeating specific note durations at regular intervals.

---

### 7. Algorithmic Music Generation

Algorithmic music generation involves using mathematical and logical rules to create music automatically. MIDI is well-suited for this approach because musical parameters such as pitch, duration, and velocity can be precisely controlled using code.

By defining patterns and rules in Python, it is possible to generate musical structures such as loops, chord progressions, and melodies without manual composition.

---

### 8. Python Libraries for MIDI Processing

- **Mido**  
  Mido is a Python library that provides tools for reading, writing, and manipulating MIDI files. It allows access to individual MIDI messages and supports creation of new MIDI tracks.

- **Pygame**  
  Pygame provides basic audio playback functionality. It can be used to load and play MIDI files, enabling real-time testing of generated musical sequences.

---

### 9. MIDI to Audio Conversion

MIDI files do not contain sound and therefore require a synthesizer to produce audible output. When a MIDI synthesizer or compatible backend is available, MIDI files can be converted into standard audio formats such as WAV. This conversion enables playback on devices that do not support MIDI directly.

---